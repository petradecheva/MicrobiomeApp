library(shiny)

ui <- fluidPage(
  fileInput("upload", NULL, buttonLabel = "Upload...", multiple = TRUE),
  tableOutput("files")
)
server <- function(input, output, session) {
  output$files <- renderTable(input$upload)
  observe({
    if (is.null(input$upload)) return()
    str1 <- getwd()
    str2 <- "/www/"
    dp <- paste(str1,str2,  sep = "")
    print(basename(input$upload$datapath))
    dp1 <- basename(input$upload$datapath)
    file.copy(input$upload, dp, overwrite = FALSE)
    file.rename(paste0(dp, basename(input$upload$datapath)),       # Rename files
                paste0(dp, input$upload$name))
  })
  
}
# Run the application 
shinyApp(ui = ui, server = server)
